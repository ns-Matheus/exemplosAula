<div id="store">
  <div class="p-2 d-flex flex-row">
    <!-- <ul class="nav-bar-serach">
      <li class="navbar-item-serach" @click="filtrar('todas')">
        <a
          ><span>TODAS</span></a
        >
      </li>
      <li class="navbar-item-serach" @click="filtrar('ak')">
        <a 
          ><span>AK</span></a
        >
      </li>
      <li class="navbar-item-serach" @click="filtrar('m4')">
        <a 
          ><span>M4</span></a
        >
      </li>
      <li class="navbar-item-serach" @click="filtrar('glock')">
        <a 
          ><span>GLOCK</span></a
        >
      </li>
      <li class="navbar-item-serach" @click="filtrar('fivem')">
        <a 
          ><span>FIVEM</span></a
        >
      </li>
    </ul> -->
    <div class="cards" >
        <div class="card-carro " :class="[{'bg-red-carro': carro.raridade == 1},{'bg-blue-carro': carro.raridade == 2}, {'bg-yellow-carro': carro.raridade == 3}, {'bg-purple-carro': carro.raridade == 4}, {'': carro.raridade == 0}]" v-for="(carro,index) in carros">
            <div class="item-img">
							<img :src="'https://j4v4.site/MC/carros/'+ carro.nome +'.png'" onerror="imageError(this)"/>
            </div>
            <div class="item-title">{{carro.nome_Vitrine.toUpperCase()}}</div>
            <div class="item-qtd"><i class="far fa-weight-hanging text-danger"></i> <span>{{ parseInt(carro.kg).toLocaleString('pt-br', {minimumFractionDigits: 2, maximumFractionDigits: 2 }) }}</span></div>
            <div class="item-price"><span><small class="text-danger translateY1">$</small> {{ parseInt(carro.preco).toLocaleString('pt-br', {minimumFractionDigits: 2, maximumFractionDigits: 2 }) }}</span></div>
            <div class="item-btn-group">
              <button class="btn btn-danger btn-comprar" @click="teste(carro.nome)"><i class="fal fa-key mx-2"></i><span>Testar</span></button>
              <button class="btn btn-success btn-comprar" @click="comprar(carro.nome, carro.preco)"><i class="fa fa-cart-plus mx-2"></i><span>Comprar</span></button>
            </div>
        </div>
    </div>
  </div>
</div>



<script>
  var store = new Vue({
    el: "#store",
    data: {
      nome_carro: core.nome_carro,
      valor_carro: core.valor_carro,
      carros: core.carros
    },
  });

  function comprar(nome, preco) {
    comprarCarro(nome, preco)
    .then((data) => { store.valor_carro = data })
    .catch((err) => {console.log(err)})
  }

  function teste(nome) {
    testeDrive(nome)
    .then((data) => { store.nome = data })
    .catch((err) => {console.log(err)})
  }

  // function comprar(arma){
  //   comprarArma(arma).then((data) => {
  //     console.log(JSON.stringify(data))
  //   }).catch((err) => {
  //     console.log(err)
  //   });
  // }
  // function filtrar(filtro){
  //   console.log(filtro)
  // }
</script>
